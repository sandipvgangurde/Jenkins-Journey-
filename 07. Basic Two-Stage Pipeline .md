# **1. Basic Two-Stage Pipeline**

```groovy
pipeline {
    // Define the agent where this pipeline will run
    agent any 

    stages {
        // First stage
        stage("Test Stage") {
            steps {
                // Print a message to console
                echo "Hello from the Test Stage!"
            }
        }

        // Second stage
        stage("New Stage") {
            steps {
                // Print another message
                echo "Hello from the New Stage!"
            }
        }
    }
}
```

### **Explanation:**

* `pipeline {}` → Declares a declarative pipeline.
* `agent any` → Pipeline can run on any available agent.
* `stages {}` → Contains all pipeline stages.
* `stage("Name") { steps { ... } }` → Each stage runs sequentially.
* `echo` → Prints messages to Jenkins console output.

---

# **2. Three-Stage Pipeline (Corrected Version)**

```groovy
pipeline {
    agent any

    stages {
        stage("Test Stage") {
            steps {
                echo "Hello from the Test Stage!"
            }
        }

        stage("New Stage") {
            steps {
                echo "Hello from the New Stage!"
            }
        }

        stage("New2 Stage") {
            steps {
                // Corrected syntax: steps block must contain commands in {}
                echo "Hello from the New2 Stage!"
            }
        }
    }
}
```

---

# **3. Agent Inspection Pipeline**

```groovy
pipeline {
    agent any 

    stages {

        stage("Check Hostname") {
            steps {
                echo "Agent hostname is:"
                // Runs shell command on agent to get hostname
                sh 'hostname'
            }
        }

        stage("Check Jenkins Version") {
            steps {
                echo "Jenkins version running on this server:"
                // Accessing Jenkins environment variable
                echo "Jenkins version: ${env.JENKINS_VERSION}"
            }
        }

        stage("Check Kernel and OS") {
            steps {
                echo "Kernel and OS info:"
                sh 'uname -a'  // Prints kernel name, version, architecture
                sh 'cat /etc/os-release || echo "OS info not available"' // Linux distro info
            }
        }

        stage("Check Disk Space") {
            steps {
                echo "Disk usage information:"
                sh 'df -h'  // Shows mounted file system usage
            }
        }

        stage("Check Java Version") {
            steps {
                echo "Java version installed on agent:"
                sh 'java -version'
            }
        }
    }

    post {
        always {
            // Runs regardless of success or failure
            echo "Agent inspection pipeline finished."
        }
    }
}
```

### **Explanation:**

* `sh 'command'` → Runs a shell command on the agent.
* `env.VARIABLE_NAME` → Accesses Jenkins environment variables.
* `post { always { ... } }` → Block that runs after the pipeline finishes, **regardless of success or failure**.
* This pipeline helps **inspect agent environment**: hostname, OS, disk usage, Java, and Jenkins version.

---

# ✅ **Tips for All Practice Pipelines**

1. Always enclose steps in `{}` after `steps`.
2. Use `echo` for debugging outputs.
3. Use `sh 'command'` to interact with the agent OS.
4. Stages run sequentially by default.
5. Use `post` blocks for cleanup or logging final messages.

---

